{"ast":null,"code":"'use strict';\n\nvar parse = require('./parse');\nvar listeners = {};\nvar listening = false;\nfunction listen() {\n  if (global.addEventListener) {\n    global.addEventListener('storage', change, false);\n  } else if (global.attachEvent) {\n    global.attachEvent('onstorage', change);\n  } else {\n    global.onstorage = change;\n  }\n}\nfunction change(e) {\n  if (!e) {\n    e = global.event;\n  }\n  var all = listeners[e.key];\n  if (all) {\n    all.forEach(fire);\n  }\n  function fire(listener) {\n    listener(parse(e.newValue), parse(e.oldValue), e.url || e.uri);\n  }\n}\nfunction on(key, fn) {\n  if (listeners[key]) {\n    listeners[key].push(fn);\n  } else {\n    listeners[key] = [fn];\n  }\n  if (listening === false) {\n    listen();\n  }\n}\nfunction off(key, fn) {\n  var ns = listeners[key];\n  if (ns.length > 1) {\n    ns.splice(ns.indexOf(fn), 1);\n  } else {\n    listeners[key] = [];\n  }\n}\nmodule.exports = {\n  on: on,\n  off: off\n};","map":{"version":3,"names":["parse","require","listeners","listening","listen","global","addEventListener","change","attachEvent","onstorage","e","event","all","key","forEach","fire","listener","newValue","oldValue","url","uri","on","fn","push","off","ns","length","splice","indexOf","module","exports"],"sources":["/home/prem/beckn-in-a-box/copybeckn/frontend/node_modules/local-storage/tracking.js"],"sourcesContent":["'use strict';\n\nvar parse = require('./parse');\nvar listeners = {};\nvar listening = false;\n\nfunction listen () {\n  if (global.addEventListener) {\n    global.addEventListener('storage', change, false);\n  } else if (global.attachEvent) {\n    global.attachEvent('onstorage', change);\n  } else {\n    global.onstorage = change;\n  }\n}\n\nfunction change (e) {\n  if (!e) {\n    e = global.event;\n  }\n  var all = listeners[e.key];\n  if (all) {\n    all.forEach(fire);\n  }\n\n  function fire (listener) {\n    listener(parse(e.newValue), parse(e.oldValue), e.url || e.uri);\n  }\n}\n\nfunction on (key, fn) {\n  if (listeners[key]) {\n    listeners[key].push(fn);\n  } else {\n    listeners[key] = [fn];\n  }\n  if (listening === false) {\n    listen();\n  }\n}\n\nfunction off (key, fn) {\n  var ns = listeners[key];\n  if (ns.length > 1) {\n    ns.splice(ns.indexOf(fn), 1);\n  } else {\n    listeners[key] = [];\n  }\n}\n\nmodule.exports = {\n  on: on,\n  off: off\n};\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,KAAK,GAAGC,OAAO,CAAC,SAAS,CAAC;AAC9B,IAAIC,SAAS,GAAG,CAAC,CAAC;AAClB,IAAIC,SAAS,GAAG,KAAK;AAErB,SAASC,MAAMA,CAAA,EAAI;EACjB,IAAIC,MAAM,CAACC,gBAAgB,EAAE;IAC3BD,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAEC,MAAM,EAAE,KAAK,CAAC;EACnD,CAAC,MAAM,IAAIF,MAAM,CAACG,WAAW,EAAE;IAC7BH,MAAM,CAACG,WAAW,CAAC,WAAW,EAAED,MAAM,CAAC;EACzC,CAAC,MAAM;IACLF,MAAM,CAACI,SAAS,GAAGF,MAAM;EAC3B;AACF;AAEA,SAASA,MAAMA,CAAEG,CAAC,EAAE;EAClB,IAAI,CAACA,CAAC,EAAE;IACNA,CAAC,GAAGL,MAAM,CAACM,KAAK;EAClB;EACA,IAAIC,GAAG,GAAGV,SAAS,CAACQ,CAAC,CAACG,GAAG,CAAC;EAC1B,IAAID,GAAG,EAAE;IACPA,GAAG,CAACE,OAAO,CAACC,IAAI,CAAC;EACnB;EAEA,SAASA,IAAIA,CAAEC,QAAQ,EAAE;IACvBA,QAAQ,CAAChB,KAAK,CAACU,CAAC,CAACO,QAAQ,CAAC,EAAEjB,KAAK,CAACU,CAAC,CAACQ,QAAQ,CAAC,EAAER,CAAC,CAACS,GAAG,IAAIT,CAAC,CAACU,GAAG,CAAC;EAChE;AACF;AAEA,SAASC,EAAEA,CAAER,GAAG,EAAES,EAAE,EAAE;EACpB,IAAIpB,SAAS,CAACW,GAAG,CAAC,EAAE;IAClBX,SAAS,CAACW,GAAG,CAAC,CAACU,IAAI,CAACD,EAAE,CAAC;EACzB,CAAC,MAAM;IACLpB,SAAS,CAACW,GAAG,CAAC,GAAG,CAACS,EAAE,CAAC;EACvB;EACA,IAAInB,SAAS,KAAK,KAAK,EAAE;IACvBC,MAAM,CAAC,CAAC;EACV;AACF;AAEA,SAASoB,GAAGA,CAAEX,GAAG,EAAES,EAAE,EAAE;EACrB,IAAIG,EAAE,GAAGvB,SAAS,CAACW,GAAG,CAAC;EACvB,IAAIY,EAAE,CAACC,MAAM,GAAG,CAAC,EAAE;IACjBD,EAAE,CAACE,MAAM,CAACF,EAAE,CAACG,OAAO,CAACN,EAAE,CAAC,EAAE,CAAC,CAAC;EAC9B,CAAC,MAAM;IACLpB,SAAS,CAACW,GAAG,CAAC,GAAG,EAAE;EACrB;AACF;AAEAgB,MAAM,CAACC,OAAO,GAAG;EACfT,EAAE,EAAEA,EAAE;EACNG,GAAG,EAAEA;AACP,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}